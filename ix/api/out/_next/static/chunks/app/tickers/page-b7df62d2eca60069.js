(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[90],{1096:function(e,t,r){Promise.resolve().then(r.bind(r,9769))},8123:function(e,t,r){"use strict";var n,a;e.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(a=r.g.process)?void 0:a.env)?r.g.process:r(4227)},4227:function(e){!function(){var t={229:function(e){var t,r,n,a=e.exports={};function o(){throw Error("setTimeout has not been defined")}function l(){throw Error("clearTimeout has not been defined")}function c(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{r="function"==typeof clearTimeout?clearTimeout:l}catch(e){r=l}}();var s=[],i=!1,d=-1;function u(){i&&n&&(i=!1,n.length?s=n.concat(s):d=-1,s.length&&h())}function h(){if(!i){var e=c(u);i=!0;for(var t=s.length;t;){for(n=s,s=[];++d<t;)n&&n[d].run();d=-1,t=s.length}n=null,i=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===l||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function p(){}a.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];s.push(new m(e,t)),1!==s.length||i||c(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=p,a.addListener=p,a.once=p,a.off=p,a.removeListener=p,a.removeAllListeners=p,a.emit=p,a.prependListener=p,a.prependOnceListener=p,a.listeners=function(e){return[]},a.binding=function(e){throw Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw Error("process.chdir is not supported")},a.umask=function(){return 0}}},r={};function n(e){var a=r[e];if(void 0!==a)return a.exports;var o=r[e]={exports:{}},l=!0;try{t[e](o,o.exports,n),l=!1}finally{l&&delete r[e]}return o.exports}n.ab="//";var a=n(229);e.exports=a}()},9769:function(e,t,r){"use strict";r.d(t,{default:function(){return d}});var n=r(7437),a=r(2265),o=r(8123);async function l(){let e=await fetch("".concat("http://localhost:8000","/api/admin/tickers"));if(!e.ok)throw Error("Failed to fetch tickers");return e.json()}async function c(e){let t=o.env.API_URL||"",r=await fetch("".concat(t,"/api/admin/tickers"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!r.ok)throw Error("Failed to add ticker");return r.json()}async function s(e){let t=await fetch("".concat("http://localhost:8000","/api/admin/ticker/update"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error("Failed to update ticker ".concat(e.code));return t.json()}async function i(e){let t=o.env.API_URL||"";if(!(await fetch("".concat(t,"/api/tickers/").concat(e),{method:"DELETE"})).ok)throw Error("Failed to delete ticker ".concat(e))}function d(e){let{initialTickers:t}=e,[r,o]=(0,a.useState)(t),[d,u]=(0,a.useState)({code:"",name:"",exchange:"",market:"",source:"YAHOO",bloomberg:null,fred:null,yahoo:null}),[h,m]=(0,a.useState)(null),p=async()=>{try{let e=await l();o(e)}catch(e){console.error("Error fetching tickers:",e)}},b=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d,{name:r,value:n}=e.target;t===d?u({...t,[r]:n}):m({...t,[r]:n})},x=async e=>{e.preventDefault();try{await c(d),u({code:"",name:"",exchange:"",market:"",source:"YAHOO",bloomberg:null,fred:null,yahoo:null}),p()}catch(e){console.error("Error adding ticker:",e)}},f=async e=>{if(e.preventDefault(),h)try{await s(h),m(null),p()}catch(e){console.error("Error updating ticker:",e)}},g=async e=>{try{await i(e),p()}catch(e){console.error("Error deleting ticker:",e)}};return(0,n.jsxs)("div",{className:"container mx-auto p-4",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Tickers"}),(0,n.jsxs)("form",{onSubmit:x,className:"mb-4",children:[(0,n.jsx)("input",{type:"text",name:"code",value:d.code,onChange:b,placeholder:"Code",className:"border p-2 mr-2"}),(0,n.jsx)("input",{type:"text",name:"name",value:d.name||"",onChange:b,placeholder:"Name",className:"border p-2 mr-2"}),(0,n.jsx)("input",{type:"text",name:"exchange",value:d.exchange||"",onChange:b,placeholder:"Exchange",className:"border p-2 mr-2"}),(0,n.jsx)("input",{type:"text",name:"market",value:d.market||"",onChange:b,placeholder:"Market",className:"border p-2 mr-2"}),(0,n.jsx)("input",{type:"text",name:"source",value:d.source,onChange:b,placeholder:"Source",className:"border p-2 mr-2"}),(0,n.jsx)("input",{type:"text",name:"bloomberg",value:d.bloomberg||"",onChange:b,placeholder:"Bloomberg",className:"border p-2 mr-2"}),(0,n.jsx)("input",{type:"text",name:"fred",value:d.fred||"",onChange:b,placeholder:"FRED",className:"border p-2 mr-2"}),(0,n.jsx)("input",{type:"text",name:"yahoo",value:d.yahoo||"",onChange:b,placeholder:"Yahoo",className:"border p-2 mr-2"}),(0,n.jsx)("button",{type:"submit",className:"bg-blue-500 text-white p-2",children:"Add Ticker"})]}),(0,n.jsx)("div",{className:"overflow-x-auto",children:(0,n.jsxs)("table",{className:"w-full border-collapse border",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{className:"border p-2",children:"Code"}),(0,n.jsx)("th",{className:"border p-2",children:"Name"}),(0,n.jsx)("th",{className:"border p-2",children:"Exchange"}),(0,n.jsx)("th",{className:"border p-2",children:"Market"}),(0,n.jsx)("th",{className:"border p-2",children:"Source"}),(0,n.jsx)("th",{className:"border p-2",children:"Bloomberg"}),(0,n.jsx)("th",{className:"border p-2",children:"FRED"}),(0,n.jsx)("th",{className:"border p-2",children:"Yahoo"}),(0,n.jsx)("th",{className:"border p-2",children:"Actions"})]})}),(0,n.jsx)("tbody",{children:r.map(e=>(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{className:"border p-2",children:e.code}),(0,n.jsx)("td",{className:"border p-2",children:e.name}),(0,n.jsx)("td",{className:"border p-2",children:e.exchange}),(0,n.jsx)("td",{className:"border p-2",children:e.market}),(0,n.jsx)("td",{className:"border p-2",children:e.source}),(0,n.jsx)("td",{className:"border p-2",children:e.bloomberg}),(0,n.jsx)("td",{className:"border p-2",children:e.fred}),(0,n.jsx)("td",{className:"border p-2",children:e.yahoo}),(0,n.jsxs)("td",{className:"border p-2",children:[(0,n.jsx)("button",{onClick:()=>m(e),className:"bg-yellow-500 text-white p-1 mr-2",children:"Edit"}),(0,n.jsx)("button",{onClick:()=>g(e.code),className:"bg-red-500 text-white p-1",children:"Delete"})]})]},e.code))})]})}),h&&(0,n.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full",id:"my-modal",children:(0,n.jsxs)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:[(0,n.jsx)("h3",{className:"text-lg font-bold mb-4",children:"Edit Ticker"}),(0,n.jsxs)("form",{onSubmit:f,children:[(0,n.jsx)("input",{type:"text",name:"code",value:h.code,onChange:e=>b(e,h),placeholder:"Code",className:"border p-2 mb-2 w-full",readOnly:!0}),(0,n.jsx)("input",{type:"text",name:"name",value:h.name||"",onChange:e=>b(e,h),placeholder:"Name",className:"border p-2 mb-2 w-full"}),(0,n.jsx)("input",{type:"text",name:"exchange",value:h.exchange||"",onChange:e=>b(e,h),placeholder:"Exchange",className:"border p-2 mb-2 w-full"}),(0,n.jsx)("input",{type:"text",name:"market",value:h.market||"",onChange:e=>b(e,h),placeholder:"Market",className:"border p-2 mb-2 w-full"}),(0,n.jsx)("input",{type:"text",name:"source",value:h.source,onChange:e=>b(e,h),placeholder:"Source",className:"border p-2 mb-2 w-full"}),(0,n.jsx)("input",{type:"text",name:"bloomberg",value:h.bloomberg||"",onChange:e=>b(e,h),placeholder:"Bloomberg",className:"border p-2 mb-2 w-full"}),(0,n.jsx)("input",{type:"text",name:"fred",value:h.fred||"",onChange:e=>b(e,h),placeholder:"FRED",className:"border p-2 mb-2 w-full"}),(0,n.jsx)("input",{type:"text",name:"yahoo",value:h.yahoo||"",onChange:e=>b(e,h),placeholder:"Yahoo",className:"border p-2 mb-2 w-full"}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("button",{type:"submit",className:"bg-blue-500 text-white p-2",children:"Update"}),(0,n.jsx)("button",{onClick:()=>m(null),className:"bg-gray-500 text-white p-2",children:"Cancel"})]})]})]})})]})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=1096)}),_N_E=e.O()}]);