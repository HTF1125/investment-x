(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[288],{4691:function(e,t,a){Promise.resolve().then(a.bind(a,2089))},2089:function(e,t,a){"use strict";a.d(t,{default:function(){return M}});var r=a(7437),s=a(2265),l=a(9376),n=a(1994),i=a(3335);function d(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,i.m6)((0,n.W)(t))}let o=s.forwardRef((e,t)=>{let{className:a,type:s,...l}=e;return(0,r.jsx)("input",{type:s,className:d("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...l})});o.displayName="Input";var c=a(7495);let u=(0,a(7712).j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),x=s.forwardRef((e,t)=>{let{className:a,variant:s,size:l,asChild:n=!1,...i}=e,o=n?c.g7:"button";return(0,r.jsx)(o,{className:d(u({variant:s,size:l,className:a})),ref:t,...i})});x.displayName="Button";var m=a(7829),p=a(833);let h=p.fC;p.ZA;let f=p.B4,g=s.forwardRef((e,t)=>{let{className:a,children:s,...l}=e;return(0,r.jsxs)(p.xz,{ref:t,className:d("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...l,children:[s,(0,r.jsx)(p.JO,{asChild:!0,children:(0,r.jsx)(m.jnn,{className:"h-4 w-4 opacity-50"})})]})});g.displayName=p.xz.displayName;let y=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(p.u_,{ref:t,className:d("flex cursor-default items-center justify-center py-1",a),...s,children:(0,r.jsx)(m.g8U,{})})});y.displayName=p.u_.displayName;let b=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(p.$G,{ref:t,className:d("flex cursor-default items-center justify-center py-1",a),...s,children:(0,r.jsx)(m.v4q,{})})});b.displayName=p.$G.displayName;let j=s.forwardRef((e,t)=>{let{className:a,children:s,position:l="popper",...n}=e;return(0,r.jsx)(p.h_,{children:(0,r.jsxs)(p.VY,{ref:t,className:d("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:l,...n,children:[(0,r.jsx)(y,{}),(0,r.jsx)(p.l_,{className:d("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,r.jsx)(b,{})]})})});j.displayName=p.VY.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(p.__,{ref:t,className:d("px-2 py-1.5 text-sm font-semibold",a),...s})}).displayName=p.__.displayName;let v=s.forwardRef((e,t)=>{let{className:a,children:s,...l}=e;return(0,r.jsxs)(p.ck,{ref:t,className:d("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...l,children:[(0,r.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(p.wU,{children:(0,r.jsx)(m.nQG,{className:"h-4 w-4"})})}),(0,r.jsx)(p.eT,{children:s})]})});v.displayName=p.ck.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(p.Z0,{ref:t,className:d("-mx-1 my-1 h-px bg-muted",a),...s})}).displayName=p.Z0.displayName;var w=a(6705),N=a(4084);function k(e){return e?new Date(e).toLocaleDateString():"N/A"}function _(e){return null!==e?"".concat((100*e).toFixed(2),"%"):"N/A"}N.kL.register(N.uw,N.f$,N.jn,N.Dx,N.u,N.De);var C=e=>{let{performanceData:t}=e,[a,l]=(0,s.useState)("ALL"),n=(e,t)=>{let r;let s=new Date;switch(a){case"1M":r=new Date(s.setMonth(s.getMonth()-1));break;case"3M":r=new Date(s.setMonth(s.getMonth()-3));break;case"6M":r=new Date(s.setMonth(s.getMonth()-6));break;case"1Y":r=new Date(s.setFullYear(s.getFullYear()-1));break;default:return{filteredData:e,filteredDates:t}}let l=t.reduce((e,t,a)=>(new Date(t)>=r&&e.push(a),e),[]);return{filteredData:l.map(t=>e[t]),filteredDates:l.map(e=>t[e])}},i=e=>{let t=e[0];return e.map(e=>(e-t)/t*100)},{filteredData:d,filteredDates:o}=(0,s.useMemo)(()=>n(t.v,t.d),[t,a]),{filteredData:c}=(0,s.useMemo)(()=>n(t.b,t.d),[t,a]),u=(0,s.useMemo)(()=>"ALL"!==a?i(d):d,[d,a]),x=(0,s.useMemo)(()=>"ALL"!==a?i(c):c,[c,a]);return(0,r.jsxs)("div",{className:"mt-4 bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Performance Analysis"}),(0,r.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Time Range:"}),(0,r.jsx)("div",{className:"mt-1",children:["1M","3M","6M","1Y","ALL"].map(e=>(0,r.jsx)("button",{onClick:()=>l(e),className:"px-2 py-1 text-sm rounded ".concat(a===e?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600"," mr-2"),children:e},e))})]})}),(0,r.jsx)("div",{className:"h-[400px]",children:(0,r.jsx)(w.x1,{data:{labels:o,datasets:[{label:"Strategy Value",data:u,borderColor:"rgba(75, 192, 192, 1)",backgroundColor:"rgba(75, 192, 192, 0.1)",fill:!0,pointRadius:0},{label:"Benchmark",data:x,borderColor:"rgba(255,99,132,1)",backgroundColor:"rgba(255,99,132,0.1)",fill:!0,pointRadius:0}]},options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Strategy vs Benchmark Performance"},tooltip:{mode:"index",intersect:!1,callbacks:{label:e=>{let t=e.dataset.label||"";return t&&(t+=": "),null!==e.parsed.y&&(t+="ALL"!==a?_(e.parsed.y/100):e.parsed.y.toFixed(2)),t}}}},scales:{x:{title:{display:!0,text:"Date"}},y:{title:{display:!0,text:"ALL"!==a?"Percentage Change":"Value"},ticks:{callback:function(e){return"number"==typeof e?"ALL"!==a?_(e/100):e.toFixed(2):e}}}},elements:{point:{radius:0}}}})}),(0,r.jsxs)("div",{className:"mt-4 grid grid-cols-2 gap-4 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium",children:"Start Date:"}),(0,r.jsx)("p",{children:k(o[0])})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium",children:"End Date:"}),(0,r.jsx)("p",{children:k(o[o.length-1])})]})]})]})},D=a(875),A=a(407);N.kL.register(N.uw,N.f$,N.od,N.jn,N.Dx,N.u,N.De);var L=e=>{let{data:t}=e;if(!t||0===t.length)return(0,r.jsx)("div",{children:"No data available"});let a=Math.min(...t),s=Math.max(...t),l=(s-a)*.1,n={labels:t.map((e,t)=>t+1),datasets:[{label:"NAV",data:t,fill:!1,borderColor:"rgb(75, 192, 192)",tension:.1}]};return(0,r.jsx)("div",{style:{width:"100%",height:"50px"},children:(0,r.jsx)(w.x1,{data:n,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{enabled:!1}},scales:{x:{display:!1},y:{display:!1,min:a-l,max:s+l}},elements:{point:{radius:0}}}})})};function M(e){let{initialStrategies:t,performanceData:a}=e,[n]=(0,s.useState)(t),[i,d]=(0,s.useState)(""),[c,u]=(0,s.useState)("code"),[m,p]=(0,s.useState)(null),[y,b]=(0,s.useState)(1),w=(0,l.useRouter)(),N=(0,s.useMemo)(()=>n&&0!==n.length?n.filter(e=>e.code.toLowerCase().includes(i.toLowerCase())).sort((e,t)=>{var a,r,s,l;return"return"===c?(null!==(a=t.ann_return)&&void 0!==a?a:0)-(null!==(r=e.ann_return)&&void 0!==r?r:0):"volatility"===c?(null!==(s=t.ann_volatility)&&void 0!==s?s:0)-(null!==(l=e.ann_volatility)&&void 0!==l?l:0):e.code.localeCompare(t.code)}):[],[n,i,c]),M=10*y,R=N.slice(M-10,M),S=e=>b(e);return(0,r.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between mb-4 gap-4",children:[(0,r.jsx)(o,{type:"text",placeholder:"Search strategies...",value:i,onChange:e=>d(e.target.value),className:"max-w-xs"}),(0,r.jsxs)(h,{value:c,onValueChange:u,children:[(0,r.jsx)(g,{className:"w-[180px]",children:(0,r.jsx)(f,{placeholder:"Sort by"})}),(0,r.jsxs)(j,{children:[(0,r.jsx)(v,{value:"code",children:"Code"}),(0,r.jsx)(v,{value:"return",children:"Annual Return"}),(0,r.jsx)(v,{value:"volatility",children:"Annual Volatility"})]})]})]}),(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700 table-auto",children:[(0,r.jsx)("thead",{className:"bg-gray-100 dark:bg-gray-800",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Strategy Code"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Updated"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Annual Return"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Annual Volatility"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"NAV History"})]})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200 dark:bg-gray-800 dark:divide-gray-700",children:R.map(e=>(0,r.jsxs)(s.Fragment,{children:[(0,r.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("button",{onClick:()=>p(m===e.code?null:e.code),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200","aria-label":m===e.code?"Collapse strategy details":"Expand strategy details",children:m===e.code?(0,r.jsx)(D.Z,{size:20}):(0,r.jsx)(A.Z,{size:20})})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.code}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:k(e.last_updated)}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap ".concat(e.ann_return&&e.ann_return>0?"text-green-600":"text-red-600"),children:_(e.ann_return)}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-yellow-600",children:_(e.ann_volatility)}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsx)("div",{className:"w-24 h-12",children:(0,r.jsx)(L,{data:e.nav_history||[]})})})]}),m===e.code&&(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:6,className:"p-4",children:(0,r.jsx)(C,{performanceData:a[e.code]})})})]},e.code))})]})}),0===N.length&&(0,r.jsx)("p",{className:"text-center text-gray-500 mt-4",children:"No strategies found"}),(0,r.jsx)("div",{className:"mt-4 flex justify-center",children:Array.from({length:Math.ceil(N.length/10)},(e,t)=>(0,r.jsx)("button",{onClick:()=>S(t+1),className:"mx-1 px-3 py-1 rounded ".concat(y===t+1?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"),children:t+1},t))}),(0,r.jsx)(x,{onClick:()=>w.push("/strategies/compare"),className:"mt-8 w-full",children:"Compare Strategies"})]})}}},function(e){e.O(0,[674,310,989,859,830,971,117,744],function(){return e(e.s=4691)}),_N_E=e.O()}]);